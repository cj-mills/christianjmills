---
title: Barracuda PoseNet Tutorial Pt. 9
layout: post
toc: false
comments: true
description: This post demonstrates the tradeoffs between speed and accuracy for the PoseNet model.
categories: [unity, tutorial]
hide: true
permalink: /:title/
search_exclude: false
---

### Previous: [Part 8](https://christianjmills.com/Barracuda-PoseNet-Tutorial-8/)

* [Introduction](#introduction)
* [Input Resolutions](#input-resolutions)
* [Summary](#summary)

## Introduction

Different applications can require different tradeoffs between speed and accuracy. The size of the heatmaps generated by the PoseNet model is the greatest factor for balancing this tradeoff. The heatmap resolution indicates how many distinct locations the model needs to make a prediction for in the input image. The fewer distinct locations, the larger and more precise the offset values need to be. It's easier to estimate whether a key point is in a specific spot rather than how far a way it is from that spot. In this post, we'll explore how adjusting the input resolution impacts both inference speed and prediction accuracy. 

## Input Resolutions

The easiest way to change the heatmap size is to adjust the resolution for the input image. We'll start off with an extremely low resolution and go up from there. The minimum confidence for each test is set to 80%.

**Note:** The GIFs were all recorded at 24fps so differences in frame rate will not be visible.

### 160 x 160 at 111fps

This is about as low a resolution we can go before the model completely falls apart. The output is barely useable even with ideal video. The model is rarely confident about it's predictions as shown below.

![skateboards_160p](..\images\barracuda-posenet-tutorial\part-9\skateboards_160p.gif)

### 320 x 320 at 100fps

Moving up to `320p` improves model accuracy dramatically while having a small impact on performance. The model is much more confident in it's predictions. It does a solid job with the body key points. However, predictions for the nose, eyes, and ears are still not reliable.

![skateboards_320p](..\images\barracuda-posenet-tutorial\part-9\skateboards_320p.gif)

### 480 x 480 at 85fps

This is probably the sweet spot for balancing performance and accuracy. The model's predictions are stable overall and inference speed is still fairly high.

![skateboards_480p](..\images\barracuda-posenet-tutorial\part-9\skateboards_480p.gif)

### 640 x 640 at 59fps

Here we start to dip below 60fps. The model's predictions are more stable, but the difference is less noticable than previous jumps in resolutions.

![skateboards_640p](..\images\barracuda-posenet-tutorial\part-9\skateboards_640p.gif)

### 840 x 840 at  35fps

At this resolution, we see a significant impact on inference speed for little to no gain in accuracy. Different video content might benefit more from this high of a resolution. However, The performance trade off is likely not worth it.

![skateboards_800p](..\images\barracuda-posenet-tutorial\part-9\skateboards_800p.gif)

## Summary

That was a brief overview of how the PoseNet model performs at different resolutions. Model accuracy will vary depending on the video content and the location of the individual in the camera frame. However, the above demos should provide a decent predictor of model performance.



