<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.336">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Christian Mills">
<meta name="dcterms.date" content="2021-12-09">
<meta name="description" content="My notes from Ben Berman’s 2017 talk on machine learning and level generation.">

<title>Christian Mills - Notes on Machine Learning and Level Generation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="Christian Mills - Notes on Machine Learning and Level Generation">
<meta property="og:description" content="My notes from Ben Berman’s 2017 talk on machine learning and level generation.">
<meta property="og:image" content="christianjmills.com/posts/machine-learning-level-generation-notes/images/logo.png">
<meta property="og:site-name" content="Christian Mills">
<meta name="twitter:title" content="Christian Mills - Notes on Machine Learning and Level Generation">
<meta name="twitter:description" content="My notes from Ben Berman’s 2017 talk on machine learning and level generation.">
<meta name="twitter:image" content="christianjmills.com/posts/machine-learning-level-generation-notes/images/logo.png">
<meta name="twitter:creator" content="@cdotjdotmills">
<meta name="twitter:site" content="@cdotjdotmills">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Christian Mills</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html" rel="" target="">
 <span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../series/tutorials/index.html" rel="" target="">
 <span class="menu-text">Tutorials</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../series/notes/index.html" rel="" target="">
 <span class="menu-text">Notes</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:christian@christianjmills.com" rel="" target=""><i class="bi bi-envelope-fill" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/cj-mills" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/cdotjdotmills" rel="" target=""><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../blog.xml" rel="" target=""><i class="bi bi-rss" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">Overview</a></li>
  <li><a href="#existing-examples" id="toc-existing-examples" class="nav-link" data-scroll-target="#existing-examples">Existing Examples</a>
  <ul class="collapse">
  <li><a href="#caves-of-qud" id="toc-caves-of-qud" class="nav-link" data-scroll-target="#caves-of-qud">Caves of Qud</a></li>
  <li><a href="#botnik" id="toc-botnik" class="nav-link" data-scroll-target="#botnik">Botnik</a></li>
  <li><a href="#computational-flaneur" id="toc-computational-flaneur" class="nav-link" data-scroll-target="#computational-flaneur">Computational Flaneur</a></li>
  </ul></li>
  <li><a href="#mainstream-commercial-games" id="toc-mainstream-commercial-games" class="nav-link" data-scroll-target="#mainstream-commercial-games">Mainstream Commercial Games</a></li>
  <li><a href="#some-key-researchers" id="toc-some-key-researchers" class="nav-link" data-scroll-target="#some-key-researchers">Some Key Researchers</a></li>
  <li><a href="#influential-demos" id="toc-influential-demos" class="nav-link" data-scroll-target="#influential-demos">Influential Demos</a></li>
  <li><a href="#major-techniques-for-level-generation" id="toc-major-techniques-for-level-generation" class="nav-link" data-scroll-target="#major-techniques-for-level-generation">Major Techniques for Level Generation</a></li>
  <li><a href="#highlights" id="toc-highlights" class="nav-link" data-scroll-target="#highlights">Highlights</a></li>
  <li><a href="#implementation" id="toc-implementation" class="nav-link" data-scroll-target="#implementation">Implementation</a></li>
  <li><a href="#functional-game-content-like-spells-and-abilities-is-the-holy-grail" id="toc-functional-game-content-like-spells-and-abilities-is-the-holy-grail" class="nav-link" data-scroll-target="#functional-game-content-like-spells-and-abilities-is-the-holy-grail">Functional game content, like spells and abilities, is the holy grail</a></li>
  <li><a href="#related-work" id="toc-related-work" class="nav-link" data-scroll-target="#related-work">Related Work</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Notes on Machine Learning and Level Generation</h1>
  <div class="quarto-categories">
    <div class="quarto-category">ai</div>
    <div class="quarto-category">game-dev</div>
    <div class="quarto-category">notes</div>
  </div>
  </div>

<div>
  <div class="description">
    My notes from Ben Berman’s 2017 talk on machine learning and level generation.
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Christian Mills </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 9, 2021</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#existing-examples">Existing Examples</a></li>
<li><a href="#mainstream-commercial-games">Mainstream Commercial Games</a></li>
<li><a href="#some-key-researchers">Some Key Researchers</a></li>
<li><a href="#influential-demos">Influential Demos</a></li>
<li><a href="#major-techniques-for-level-generation">Major Techniques for Level Generation</a></li>
<li><a href="#highlights">Highlights</a></li>
<li><a href="#Implementation">Implementation</a></li>
<li><a href="#related-work">Related Work</a></li>
</ul>
<section id="overview" class="level2">
<h2 class="anchored" data-anchor-id="overview">Overview</h2>
<p>I recently started exploring potential applications of machine learning in procedural generations tool and came across this <a href="https://www.youtube.com/watch?v=Z6lHExfem6U">talk</a> given by Ben Berman from the 2017 Roguelike Celebration. Below are some notes I took while watching.</p>
<p><strong>Machine Learning:</strong> Teaching computers using data</p>
<ul>
<li>Performance is constrained by data and out ability to communicate what is important to the computer.</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./images/Machine_Learning_and_Level_Generation_Diagram_1.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Machine_Learning_and_Level_Generation_Diagram_1.png</figcaption>
</figure>
</div>
</section>
<section id="existing-examples" class="level2">
<h2 class="anchored" data-anchor-id="existing-examples">Existing Examples</h2>
<section id="caves-of-qud" class="level3">
<h3 class="anchored" data-anchor-id="caves-of-qud">Caves of Qud</h3>
<ul>
<li>Uses a Monte Carlo Markov Chain method (MCMC) with “local similarity” (and other) constraints to generate game levels based on a mix of examples and heuristics.</li>
</ul>
</section>
<section id="botnik" class="level3">
<h3 class="anchored" data-anchor-id="botnik">Botnik</h3>
<ul>
<li>Use a mix of natural language processing tools, “character RNNs” trained on example text, human-specified constraints and human intervention to create mock television scripts, Wikipedia articles, postcards and memes.</li>
</ul>
</section>
<section id="computational-flaneur" class="level3">
<h3 class="anchored" data-anchor-id="computational-flaneur">Computational Flaneur</h3>
<ul>
<li>Uses a “character RNN” to generate new poetry based on example poetry based on example poetry in response to your environment.</li>
</ul>
<p>Max Kreminski’s past bots and microsites use NLP, related MCMC methods and a huge number of heuristics to make comedy and poetry.</p>
<p>Darius Kazemi’s various bots have hijacked natural language processing software like ConceptNet to generate comic tweets and memes.</p>
<p>Ian Holmes’s games and microsites use cellular automata and heuristics and to generate game levels, visuals and text.</p>
</section>
</section>
<section id="mainstream-commercial-games" class="level2">
<h2 class="anchored" data-anchor-id="mainstream-commercial-games">Mainstream Commercial Games</h2>
<ul>
<li>Unsupervised learning techniques used to analyze the client’s UX for League of Legends</li>
<li>Supercell’s Clash Royale matchmaking widely believed to use, in part, a generalized linear model that considers various player features besides skill level. Not known if the parameters are learned.</li>
<li>Blizzard institutionalized “pity algorithms” in many loot box mechanics with learned parameters.</li>
<li>Many free-to-play studios deploy machine learning for ad tech based on a Bayesian customer lifetime value model first outlined in 1987.</li>
<li>Many virtual slot machines and in-app purchases are optimized using MCMC models.</li>
</ul>
<p><strong>Takeaway:</strong> The research is way ahead of commercial games</p>
</section>
<section id="some-key-researchers" class="level2">
<h2 class="anchored" data-anchor-id="some-key-researchers">Some Key Researchers</h2>
<ul>
<li><strong>Michael Mateas:</strong> Applies many methods, especially recurrent neural networks, with publications on level generation for platformers.</li>
<li><strong>Julian Togelius:</strong> Also applies many methods, especially RNNs, to content generation.</li>
<li><strong>Dan Ritchie (Ex-Pixar Technical Director):</strong> Monte Carlo methods in graphics, comprehensive thesis on probabilistic programs and accessible read.</li>
</ul>
</section>
<section id="influential-demos" class="level2">
<h2 class="anchored" data-anchor-id="influential-demos">Influential Demos</h2>
<ul>
<li><strong>The Unreasonable Effectiveness of Recurrent Neural Networks:</strong> Andrej Karpathy’s blog post demonstrating RNNs as content generators. Enormously influential on level generators (and lots more).</li>
<li><strong>WaveFunctionCollapse:</strong> A texture synthesis technique immediately used to generate game levels.</li>
<li><strong>Phase-Functioned Neural Networks for Character Control:</strong> Realistic skinned character animation for arbitrary height map levels.</li>
<li><strong>DeepDream (or PixelCNN):</strong> Neural network-based image and texture synthesis techniques.</li>
</ul>
</section>
<section id="major-techniques-for-level-generation" class="level2">
<h2 class="anchored" data-anchor-id="major-techniques-for-level-generation">Major Techniques for Level Generation</h2>
<ul>
<li><strong>Texture synthesis:</strong> Treat the level as a 2D image. Based on original, good levels you designed by hand, learn patterns on a micro and macro scale, then smartly mix these patterns to make them hard to distinguish from the originals.</li>
<li><strong>Recurrent neural networks:</strong> Treat the level as something that you explore over time. Later parts of the level depend on earlier parts, and some fuzzy picture of the whole.</li>
<li><strong>Monte Carlo Markov Chain design</strong>, specifically <strong>Hamiltonian Monte Carlo inference:</strong> Choose some measurements (design constraints) that are important to you, and learn the values of those measurements from good levels you designed by hand. Then randomly generate levels, tweaking parameters until you get similar measurements</li>
</ul>
</section>
<section id="highlights" class="level2">
<h2 class="anchored" data-anchor-id="highlights">Highlights</h2>
<ul>
<li><h3 id="wavefunctioncollapse" class="anchored">WavefunctionCollapse</h3>
<ul>
<li><p>EPC2018 - Oskar Stalberg - Wave Function Collapse in Bad North</p>
<p><a href="https://www.youtube.com/watch?v=0bcZb-SsnrA">EPC2018 - Oskar Stalberg - Wave Function Collapse in Bad North</a></p></li>
<li><p>Started with a layout of what a city tile-scape should look like.</p></li>
<li><p>Can be edited by selecting blocks to remove and the layout will automatically update with a suitable alternative.</p></li>
<li><p>Has constraints like certain tiles can only be adjacent to certain tiles.</p></li>
<li><p>Looks at other examples of what city tile-scapes should look like.</p></li>
</ul></li>
<li><h3 id="adam-summervilles-mario-level-generator" class="anchored">Adam Summerville’s Mario level generator</h3>
<ul>
<li><p>Super Mario as a String: Platformer Level Generation Via LSTMs</p>
<p><a href="https://arxiv.org/abs/1603.00930">Super Mario as a String: Platformer Level Generation Via LSTMs</a></p>
<p><a href="https://www.youtube.com/watch?v=U-CDQtIJ8eg">Building Mario Levels with Machine Learning</a></p></li>
<li><p>Text representation of a level and the understanding that future parts of the level are somehow related to past parts.</p></li>
<li><p>Did not know any of the game rules</p></li>
</ul></li>
<li><h3 id="daniel-holden-et.-al.s-neural-network-animated-character-2017" class="anchored">Daniel Holden et. al.’s neural network animated character (2017)</h3>
<ul>
<li><p>Specify a target trajectory with game controller and the model synthesizes a series of motions that follows that path.</p>
<ul>
<li>Phase Extraction: Augments the learning process with the timing information of a given motion.
<ul>
<li>Helps the model learn both periodic motions and when these motions start and end.</li>
</ul></li>
<li>Trained model takes very little memory and runs in real-time</li>
<li>Accomplishes smooth walking, running, jumping, climbing motions and more.</li>
</ul></li>
<li><p>GDC 2018 Character Control with Neural Networks and Machine Learning</p>
<ul>
<li><p>GDC Talk</p>
<p><a href="https://www.youtube.com/watch?v=o-QLSjSSyVk">Character Control with Neural Networks and Machine Learning</a></p></li>
<li><p>Presentation slides</p>
<p><a href="https://ubm-twvideo01.s3.amazonaws.com/o1/vault/gdc2018/presentations/Holden_Daniel_CharacterControlWith.pdf">Slides (PDF)</a></p></li>
</ul></li>
<li><p>Two Minute Papers (2017)</p>
<p><a href="https://www.youtube.com/watch?v=wlndIQHtiFw">Real-Time Character Control With Phase-Functioned Neural Networks</a></p></li>
</ul></li>
<li><h3 id="daniel-ritchies-spaceship-generator" class="anchored">Daniel Ritchie’s spaceship generator</h3>
<ul>
<li>User provides a blocked out shape for spaceship and it generates finer detail versions</li>
<li>PhD Thesis: Probabilistic Programming for Procedural Modeling and Design
<ul>
<li><a href="https://dritchie.github.io/pdf/thesis.pdf">PDF</a></li>
</ul></li>
</ul></li>
<li><h3 id="making-it-home-mcmc-based-room-layout" class="anchored">Making it home, MCMC-based room layout</h3>
<ul>
<li>Place objects in room and use interior design logic to organize the objects in an appealing way</li>
<li>Tile-based</li>
</ul></li>
</ul>
</section>
<section id="implementation" class="level2">
<h2 class="anchored" data-anchor-id="implementation">Implementation</h2>
<ul>
<li>Tips and trick to get working ML-based level generators fast</li>
<li>Objective:
<ul>
<li><p>Make something that looks like it was made by hand, not by a computer</p></li>
<li><p>How does this contrast with heuristic approaches to level generation?</p>
<p><strong>The Heuristic Approach</strong></p>
<ul>
<li>Extremely time-consuming
<ul>
<li>Example: Cloudbery Kingdom
<ul>
<li>Took three years and thousands of man-hours</li>
<li>Levels still look like they are made by a computer</li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li>Focus on what makes things look like they were made by people</li>
<li>Computer-made Feel: random placement</li>
<li>Hand-Made Feel: Symmetry in Architecture
<ul>
<li>Symmetry is really simple
<ul>
<li><span class="math display">\[
$-f(x)=f(-x)$
\]</span></li>
</ul></li>
</ul></li>
<li>Computer-made Feel: Overly Precise Numbers</li>
<li>Hand-Made Feel: Small Numbers</li>
</ul>
<p><strong>Modeling:</strong> A roguelike level is a <strong>1D platformer in disguise</strong></p>
<ul>
<li>Generating linear paths is easier than multidimensional geometry and increases the number of machine learning techniques you can use</li>
<li>2D levels can be expressed as multiple 1D levels</li>
</ul>
<p><strong>Data:</strong> Rip level data from existing Unity games using <strong>DevXUnity Pro</strong></p>
<ul>
<li>Colossal amount of content unlocked from the Google Play store</li>
<li>Always Google for mods for a game with rich data</li>
<li>Data: Successfully Extracted
<ul>
<li>Rolling Sky (Unity)</li>
<li>Wayward Souls (Apportable)</li>
<li>Hotline Miami, Hotline Miami 2 (GameMaker)</li>
<li>Botanicula (Adobe AIR)</li>
<li>Geometry Dash (Cocos 2D)</li>
</ul></li>
<li>RNN/CNN approaches don’t need higher level data, seems to work on raw Geometry Dash levels anyway
<ul>
<li>Hexadecimal data</li>
</ul></li>
</ul>
<p><strong>Useful Libraries:</strong> Try to find an implementation of your approach of choice in TensorFlow/PyTorch (more so PyTorch these days)</p>
<ul>
<li>Most research is done using PyTorch now</li>
</ul>
<p><strong>Implementation:</strong> LSTM models</p>
<ul>
<li>Best supported, highest research interest (in 2017)</li>
<li>Training models to produce reliably high-quality results in real-time applications is challenging and time consuming</li>
<li>Character-based RNN (LSTM) models have been really successful</li>
<li>LSTMs take a big chunks of level and try to predict the “next tile”</li>
<li>As you show an LSTM chunks, it “remembers” something about which tiles were adjacent to eachother.</li>
<li>Loss function: A score of how well the system is learning to predict the “next tile” given it memory and the previous tiles.</li>
<li>The objective is to minimize loss, because loss is the inverse of the score</li>
<li>LSTM models are really buggy online (2017)
<ul>
<li><strong>Accidentally sharing cell states:</strong> Many public implementations of “character RNNs” use the same instance of a “cell” object in every layer. This happened because someone started with broken code and adapted it.</li>
<li><strong>Solution:</strong> Don’t use anything more than 6 months old if you are not sure how to read the model.</li>
<li>Fixes convergence issues since this is a colossal bug.</li>
</ul></li>
<li><strong>“Chunks”:</strong> Nearly every public implementation divides your source level data into chunks whose borders may or may not be the actual start and end points of a level</li>
<li><strong>Bad Encoding:</strong> Every Character RNN tool just treasts each character as a class. For levels, this can result in a lot of noise.</li>
<li><strong><a href="https://youtu.be/Z6lHExfem6U?t=1460">Solution: Semantically-Balanced Hierarchical Encoding</a></strong>. Categorize each tile into a binary string of “traits” (e.g.&nbsp;piece of text), where each trait has real semantic meaning.
<ul>
<li>Train an RNN on each binary “view” of your tiles (like a black and white image), then train feed forward networks on for important traits. <span class="math inline">\(x_1 = f(x_i \ \epsilon \ traits : i \neq 1)\)</span></li>
<li>Some experiments saw a 20x improvement in loss Training was immensely faster.</li>
<li>Definitely sensitive to your choice of traits.</li>
<li>Note: models do not work with rarity very well
<ul>
<li>Reward tiles are so rare that you’d need a huge corpus just to learn where they appear</li>
</ul></li>
<li>Tend to implement convolutions to reinterpret the data that helps the model learn</li>
</ul></li>
<li><strong>Noise:</strong> Character RNNs produce incredibly noisy results</li>
<li><strong>Solution: Denoise</strong> your level as though it was a texture.
<ul>
<li>Non-local SSIM (Structural Similarity Index) denoiser works really well for some level textures</li>
<li>SSIM increases (higher is better) as noisy chunks move towards border, while MSE (Mean Squared Error) stays the same</li>
</ul></li>
<li><strong>Or:</strong> Include a noise measurement as a part of your loss function, treating some symmetrical part of the level as your “clean” example.</li>
<li><strong>Idea:</strong> Use the mirrored half of the level for your comparison. Denoising and symmetry in one go.</li>
<li>Results are still preliminary (2017)</li>
<li><strong>Performance is Poor:</strong> Seems to take a long time to train models. (2017)</li>
</ul>
</section>
<section id="functional-game-content-like-spells-and-abilities-is-the-holy-grail" class="level2">
<h2 class="anchored" data-anchor-id="functional-game-content-like-spells-and-abilities-is-the-holy-grail">Functional game content, like spells and abilities, is the holy grail</h2>
<ul>
<li><strong>Spellsource:</strong>
<ul>
<li>A free, open-source fully-hosted multiplayer card game engine for experimentation</li>
<li>A feature-complete implementation of the Hearthstone ruleset with all 1,312 cards</li>
</ul></li>
</ul>
</section>
<section id="related-work" class="level2">
<h2 class="anchored" data-anchor-id="related-work">Related Work</h2>
<ul>
<li><p><strong>AI4Animation: Deep Learning for Character Control</strong></p>
<ul>
<li><p>https://github.com/sebastianstarke/AI4Animation</p>
<p><a href="https://www.youtube.com/watch?v=pBkFAIUmWu0">These AI-Driven Characters Dribble Like Mad! 🏀</a></p></li>
</ul></li>
<li><p>GDC 2018 Deep Learning: Beyond the Hype (by SEED/EA)</p>
<ul>
<li><p>Presentation</p>
<p><a href="https://www.youtube.com/watch?v=yA-lJy52Ais">Deep Learning: Beyond the Hype</a></p></li>
</ul></li>
<li><p>Learning Generative Models of 3D Structures (2020)</p>
<ul>
<li><p><a href="https://par.nsf.gov/servlets/purl/10155956">Paper (PDF)</a></p></li>
<li><p><a href="https://www.youtube.com/watch?v=dDTU43UpCe0">CSC2547 Learning Generative Models of 3D Structures</a></p></li>
</ul></li>
</ul>
<p>​</p>
<p><strong>References:</strong></p>
<ul>
<li><a href="https://www.youtube.com/watch?v=Z6lHExfem6U">Ben Berman - Machine Learning and Level Generation</a></li>
</ul>
<!-- Cloudflare Web Analytics -->
<script defer="" src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon="{&quot;token&quot;: &quot;56b8d2f624604c4891327b3c0d9f6703&quot;}"></script>
<!-- End Cloudflare Web Analytics -->


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://utteranc.es/client.js" repo="cj-mills/christianjmills" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
 Copyright 2023, Christian J. Mills
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>